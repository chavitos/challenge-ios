//
//  HomeRouter.swift
//  LodjinhaSZ
//
//  Created by Tiago Chaves on 02/06/19.
//  Copyright (c) 2019 Tiago Chaves. All rights reserved.
//
//  This file was generated by the Clean Swift Xcode Templates so
//  you can apply clean architecture to your iOS and Mac projects,
//  see http://clean-swift.com
//

import UIKit

@objc protocol HomeRoutingLogic {
	func routeToCategorysProducts(segue: UIStoryboardSegue?)
//	func routeToProductDetail(segue: UIStoryboardSegue?)
}

protocol HomeDataPassing {
	var dataStore: HomeDataStore? { get }
}

class HomeRouter: NSObject, HomeRoutingLogic, HomeDataPassing {
	
	weak var viewController: HomeViewController?
	var dataStore: HomeDataStore?
	
	// MARK: Routing
	
	func routeToCategorysProducts(segue: UIStoryboardSegue?) {
		
		if let segue = segue {
			
			let destinationVC = segue.destination as! CategorysProductsViewController
			destinationVC.categoryName = dataStore?.category?.desc ?? "Produtos por categoria"
			var destinationDS = destinationVC.router!.dataStore!
			passDataToCategorysProducts(source: dataStore!, destination: &destinationDS)
		}
	}
	
//	func routeToProductDetail(segue: UIStoryboardSegue?) {
//
//		if let segue = segue {
//
//			let destinationVC = segue.destination as! ProductDetailViewController
//			var destinationDS = destinationVC.router!.dataStore!
//			passDataToProductDetail(source: dataStore!, destination: &destinationDS)
//		}
//	}
	
	// MARK: Navigation
	
	func navigateToCategorysProducts(source: HomeViewController, destination: CategorysProductsViewController) {
		
		source.show(destination, sender: nil)
	}
	
//	func navigateToProductDetail(source: HomeViewController, destination: ProductDetailViewController) {
//
//		source.show(destination, sender: nil)
//	}
	
	// MARK: Passing data
	
	func passDataToCategorysProducts(source: HomeDataStore, destination: inout CategorysProductsDataStore) {
		
		destination.category = source.category
	}
	
//	func passDataToProductDetail(source: HomeDataStore, destination: inout ProductDetailDataStore) {
//
//		destination.product = source.popProduct
//	}
}
